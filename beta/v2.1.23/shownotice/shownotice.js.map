{"version":3,"sources":["../../../../src/shownotice/shownotice.es6"],"names":["events","on","send","get_account_status","then","data","status","msg","inArray","html","i18n","replace","append","win","createBlankWindow","title","dialogClass","width","height","resizable","collapsable","minimizable","maximizable","closable","closeOnEscape","modal","ignoreTileAction","close","dialog"],"mappings":";;;;;;;;;;;;;;;;;AAOA,gCAAQA,MAAR,CAAeC,EAAf,CAAkB,OAAlB,EAA2B,YAAM;AAC7B,oCAAQC,IAAR,CAAa,EAAEC,oBAAoB,CAAtB,EAAb,EAAwCC,IAAxC,CAA6C,UAACC,IAAD,EAAU;AACnD,gBAAMC,SAASD,KAAKF,kBAAL,CAAwBG,MAAvC;AACA,gBAAIC,MAAM,EAAV;AACA,gBAAI,iBAAEC,OAAF,CAAU,eAAV,EAA2BF,MAA3B,MAAuC,CAAC,CAA5C,EAA+C;AAC3C,oBAAI,iBAAEE,OAAF,CAAU,WAAV,EAAuBF,MAAvB,MAAmC,CAAC,CAAxC,EAA2C;AACvCC,0BAAM,sBAAE,SAAF,EAAa;AACfE,8BAAM,uHACDC,IADC,GACMC,OADN,CACc,IADd,EACoB,8DADpB;AADS,qBAAb,CAAN;AAIH,iBALD,MAKO,IAAI,iBAAEH,OAAF,CAAU,gBAAV,EAA4BF,MAA5B,MAAwC,CAAC,CAA7C,EAAgD;AACnDC,0BAAM,sBAAE,SAAF,EAAa;AACfE,8BAAM,0GACDC,IADC,GACMC,OADN,CACc,IADd,EACoB,8DADpB;AADS,qBAAb,CAAN;AAIH,iBALM,MAKA,IAAI,iBAAEH,OAAF,CAAU,mBAAV,EAA+BF,MAA/B,MAA2C,CAAC,CAAhD,EAAmD;AACtDC,0BAAM,sBAAE,SAAF,EAAa;AACfE,8BAAM,6FACDC,IADC,GACMC,OADN,CACc,IADd,EACoB,8DADpB;AADS,qBAAb,CAAN;AAIH;AACJ,aAjBD,MAiBO,IAAI,iBAAEH,OAAF,CAAU,WAAV,EAAuBF,MAAvB,MAAmC,CAAC,CAAxC,EAA2C;AAC9CC,sBAAM,sBAAE,SAAF,EAAa;AACfE,0BAAM,kEACDC,IADC,GACMC,OADN,CACc,IADd,EACoB,8DADpB;AADS,iBAAb,CAAN;AAIAJ,oBAAIK,MAAJ,CAAW,sBAAE,wBAAF,EAA4BA,MAA5B,CAAmC,sBAAE,MAAF,EAAU,EAAEH,MAAM,mMAAmMC,IAAnM,EAAR,EAAV,CAAnC,EACP,sBAAE,MAAF,EAAU,EAAED,MAAM,gFAAgFC,IAAhF,EAAR,EAAV,CADO,CAAX;AAEH;AACD,gBAAIH,GAAJ,EAAS;AACLA,sBAAM,sBAAE,4BAAF,EAAgCK,MAAhC,CAAuCL,GAAvC,CAAN;AACA,oBAAMM,MAAM,kBAAQC,iBAAR,CAA0B,sBAAE,QAAF,EAAYF,MAAZ,CAAmBL,GAAnB,EAAwBG,IAAxB,EAA1B,EAA0D;AAClEK,2BAAO,iBAAiBL,IAAjB,EAD2D;AAElEM,iCAAa,gBAFqD;AAGlEC,2BAAO,GAH2D;AAIlEC,4BAAQ,MAJ0D;AAKlEC,+BAAW,KALuD;AAMlEC,iCAAa,KANqD;AAOlEC,iCAAa,KAPqD;AAQlEC,iCAAa,KARqD;AASlEC,8BAAU,IATwD;AAUlEC,mCAAe,KAVmD;AAWlEC,2BAAO,IAX2D;AAYlEC,sCAAkB,IAZgD;AAalEC,2BAAO,iBAAM;AACTd,4BAAIe,MAAJ,CAAW,SAAX;AACH;AAfiE,iBAA1D,CAAZ;AAiBAf,oBAAIe,MAAJ,CAAW,MAAX;AACH;AACJ,SAjDD;AAkDH,KAnDD","file":"shownotice.js","sourcesContent":["import rv from 'common/rivetsExtra';\nimport $ from 'jquery';\nimport windows from 'windows/windows';\nimport liveapi from 'websockets/binary_websockets';\nimport 'common/util';\nimport 'jquery-growl';\n\nliveapi.events.on(\"login\", () => {\n    liveapi.send({ get_account_status: 1 }).then((data) => {\n        const status = data.get_account_status.status;\n        let msg = '';\n        if ($.inArray(\"authenticated\", status) !== -1) {\n            if ($.inArray(\"unwelcome\", status) !== -1) {\n                msg = $(\"<span/>\", {\n                    html: \"Your account is currently suspended. Only withdrawals are now permitted. For further information, please contact %1.\"\n                        .i18n().replace(\"%1\", \"<a href=\\\"mailto:support@binary.com\\\">support@binary.com</a>\")\n                });\n            } else if ($.inArray(\"cashier_locked\", status) !== -1) {\n                msg = $(\"<span/>\", {\n                    html: \"Deposits and withdrawal for your account is not allowed at this moment. Please contact %1 to unlock it.\"\n                        .i18n().replace(\"%1\", \"<a href=\\\"mailto:support@binary.com\\\">support@binary.com</a>\")\n                });\n            } else if ($.inArray(\"withdrawal_locked\", status) !== -1) {\n                msg = $(\"<span/>\", {\n                    html: \"Withdrawal for your account is not allowed at this moment. Please contact %1 to unlock it.\"\n                        .i18n().replace(\"%1\", \"<a href=\\\"mailto:support@binary.com\\\">support@binary.com</a>\")\n                });\n            }\n        } else if ($.inArray(\"unwelcome\", status) !== -1) {\n            msg = $(\"<span/>\", {\n                html: \"To authenticate your account, kindly email the following to %1:\"\n                    .i18n().replace(\"%1\", \"<a href=\\\"mailto:support@binary.com\\\">support@binary.com</a>\")\n            });\n            msg.append($(\"<ul class=\\\"checked\\\">\").append($(\"<li>\", { html: \"A scanned copy of your passport, driving licence (provisional or full) or identity card, showing your name and date of birth. Your document must be valid for at least 6 months after this date.\".i18n() }),\n                $(\"<li>\", { html: \"A scanned copy of a utility bill or bank statement (no more than 3 months old\".i18n() })));\n        }\n        if (msg) {\n            msg = $(\"<div class='notice-msg' />\").append(msg);\n            const win = windows.createBlankWindow($(\"<div/>\").append(msg).i18n(), {\n                title: \"Notice Message\".i18n(),\n                dialogClass: \"dialog-message\",\n                width: 700,\n                height: 'auto',\n                resizable: false,\n                collapsable: false,\n                minimizable: false,\n                maximizable: false,\n                closable: true,\n                closeOnEscape: false,\n                modal: true,\n                ignoreTileAction: true,\n                close: () => {\n                    win.dialog('destroy');\n                }\n            });\n            win.dialog(\"open\");\n        }\n    });\n})\n"]}