{"version":3,"sources":["../../../../src/help/help.es6"],"names":["win","sublist_items","init","$html","$content","find","each","i","node","attr","indexOf","createBlankWindow","title","width","height","resizable","minimizable","maximizable","modal","ignoreTileAction","close","dialog","remove","destroy","win_view","unbind","state","current","list","loading","sublist","content_page","content","text","i18n","sublist_id","about_us","id","getting_started","trade_types","indicators","faq","glossary","updateSublist","getContent","append","filter","innerHTML","animate","scrollTop","document","click","openSublist","search","e","query","target","val","toLowerCase","length","item","_","flow","searchSubsection","searchDescription","link","onclick","sublist_name","console","log","key","concat","content_array","section","createTreeWalker","NodeFilter","SHOW_ELEMENT","tagName","FILTER_ACCEPT","FILTER_SKIP","obj","currentNode","childNodes","children","subSection","map","ele","nodeName","innerText","description","get","push","nextNode","temp_content_array","JSON","parse","stringify","reduce","elem","subContent","replaceAll","replace","html","array","some","index","subtext","substr","appendTo","bind","init_help","moveToTop","showSpecificContent","search_text","trigger"],"mappings":"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","file":"help.js","sourcesContent":["import $ from 'jquery';\nimport windows from 'windows/windows';\nimport rv from 'common/rivetsExtra';\nimport html from 'text!help/help.html';\nimport content from 'text!help/content.html'\nimport 'css!help/help.css';\n\n\"use strict\";\n\nlet win = null,\n    sublist_items = [];\n\nconst init = () => {\n    const $html = $(html);\n    const $content = $(content);\n    //Modify links in content to open in new tab.\n    $content.find(\"a\").each((i, node) => {\n        if ($(node).attr(\"href\").indexOf(\"contract-period\") != -1)\n            return;\n        $(node).attr('target', '_blank');\n    });\n    win = windows.createBlankWindow($(\"<div class='help-dialog'/>\"), {\n        title: \"Help\",\n        width: 850,\n        height: 400,\n        resizable: true,\n        minimizable: true,\n        maximizable: true,\n        modal: false,\n        ignoreTileAction: true,\n        close: () => {\n            win.dialog('destroy');\n            win.remove();\n            win = null;\n            sublist_items = [];\n        },\n        destroy: () => {\n            win_view && win_view.unbind();\n            sublist_items = [];\n            win_view = null;\n        }\n    });\n\n    const state = {\n        current: {\n            list: null,\n            loading: false,\n            sublist: null,\n            content_page: null,\n            content: null\n        },\n        list: [{\n            text: \"About Binary.com\".i18n(),\n            sublist_id: \"about_us\"\n        }, {\n            text: \"Getting started\".i18n(),\n            sublist_id: \"getting_started\"\n        }, {\n            text: \" Types of trades\".i18n(),\n            sublist_id: \"trade_types\"\n        }, {\n            text: \"Indicators\".i18n(),\n            sublist_id: \"indicators\"\n        }, {\n            text: \"FAQ\".i18n(),\n            sublist_id: \"faq\"\n        }, {\n            text: \"Glossary\".i18n(),\n            sublist_id: \"glossary\"\n        }],\n        sublist: {\n            about_us: [{\n                text: \"About us\".i18n(),\n                id: \"about-us\"\n            }, {\n                text: \"Group history\".i18n(),\n                id: \"group-history\"\n            }],\n            getting_started: [{\n                text: \"Why choose Binary Trading\".i18n(),\n                id: \"why-binary\"\n            }, {\n                text: \"Benefits of Binary Trading\".i18n(),\n                id: \"binary-benefits\"\n            }, {\n                text: \"How to trade Binaries\".i18n(),\n                id: \"trade-binaries\"\n            }],\n            trade_types: [{\n                text: \"Up/Down\".i18n(),\n                id: \"up-down\"\n            }, {\n                text: \"Touch/No Touch\".i18n(),\n                id: \"touch-no-touch\"\n            }, {\n                text: \"In/Out\".i18n(),\n                id: \"in-out\"\n            }, {\n                text: \"Asians\".i18n(),\n                id: \"asians\"\n            }, {\n                text: \"Digits\".i18n(),\n                id: \"digits\"\n            }, {\n                text: \"Spreads\".i18n(),\n                id: \"spreads\"\n            }],\n            indicators: [{\n                \"text\": \"Volatility Indicators\".i18n(),\n                \"id\": \"volatility-indicators\"\n            }, {\n                \"text\": \"Overlap Studies\".i18n(),\n                \"id\": \"overlap-studies\"\n            }, {\n                \"text\": \"Momentum Indicators\".i18n(),\n                \"id\": \"momentum-indicators\"\n            }, {\n                \"text\": \"Price Transformation\".i18n(),\n                \"id\": \"price-transformation\"\n            }, {\n                \"text\": \"Statistical Functions\".i18n(),\n                \"id\": \"statistical-functions\"\n            }, {\n                \"text\": \"Pattern Recognition\".i18n(),\n                \"id\": \"pattern-recognition\"\n            }, {\n                \"text\": \"Bill Williams\".i18n(),\n                \"id\": \"bill-williams\"\n            }],\n            faq: [{\n                text: \"Opening an account\".i18n(),\n                id: \"opening-account\"\n            }, {\n                text: \"Financial Security\".i18n(),\n                id: \"financial-security\"\n            }, {\n                text: \"Depositing and withdrawing funds\".i18n(),\n                id: \"deposit-withdraw\"\n            }, {\n                text: \"Learning to trade\".i18n(),\n                id: \"learn-trade\"\n            }],\n            glossary: [{\n                \"text\": \"Barrier(s)\".i18n(),\n                \"id\": \"barriers\"\n            }, {\n                \"text\": \"Binary option\".i18n(),\n                \"id\": \"binary-option\"\n            }, {\n                \"text\": \"Commodities\".i18n(),\n                \"id\": \"commodities\"\n            }, {\n                \"text\": \"Contract period\".i18n(),\n                \"id\": \"contract-period\"\n            }, {\n                \"text\": \"Derivative\".i18n(),\n                \"id\": \"derivative\"\n            }, {\n                \"text\": \"Duration\".i18n(),\n                \"id\": \"duration\"\n            }, {\n                \"text\": \"Ends Between/Ends Outside trades\".i18n(),\n                \"id\": \"ends-between\"\n            }, {\n                \"text\": \"Entry spot price\".i18n(),\n                \"id\": \"entry-spot\"\n            }, {\n                \"text\": \"Expiry price\".i18n(),\n                \"id\": \"expiry-price\"\n            }, {\n                \"text\": \"Forex\".i18n(),\n                \"id\": \"forex\"\n            }, {\n                \"text\": \"GMT\".i18n(),\n                \"id\": \"gmt\"\n            }, {\n                \"text\": \"Higher/Lower trades\".i18n(),\n                \"id\": \"h_l-trades\"\n            }, {\n                \"text\": \"Indices\".i18n(),\n                \"id\": \"indices\"\n            }, {\n                \"text\": \"In/Out trades\".i18n(),\n                \"id\": \"i_o-trades\"\n            }, {\n                \"text\": \"Market exit price\".i18n(),\n                \"id\": \"m_exit-price\"\n            }, {\n                \"text\": \"No Touch trades\".i18n(),\n                \"id\": \"no-touch-trades\"\n            }, {\n                \"text\": \"(One) Touch trades\".i18n(),\n                \"id\": \"touch-trades\"\n            }, {\n                \"text\": \"Payout\".i18n(),\n                \"id\": \"payout\"\n            }, {\n                \"text\": \"Pip\".i18n(),\n                \"id\": \"pip\"\n            }, {\n                \"text\": \"Profit\".i18n(),\n                \"id\": \"profit\"\n            }, {\n                \"text\": \"Volatility Indices\".i18n(),\n                \"id\": \"volatility-indices\"\n            }, {\n                \"text\": \"Resale price\".i18n(),\n                \"id\": \"resale-price\"\n            }, {\n                \"text\": \"Return\".i18n(),\n                \"id\": \"return\"\n            }, {\n                \"text\": \"Rise/Fall trades\".i18n(),\n                \"id\": \"r_f-trades\"\n            }, {\n                \"text\": \"Sell option\".i18n(),\n                \"id\": \"sell-option\"\n            }, {\n                \"text\": \"Spot price\".i18n(),\n                \"id\": \"spot-price\"\n            }, {\n                \"text\": \"Stake\".i18n(),\n                \"id\": \"stake\"\n            }, {\n                \"text\": \"Stays Between/Goes Outside trades\".i18n(),\n                \"id\": \"stays-between-goes-outside-trades\"\n            }, {\n                \"text\": \"Tick\".i18n(),\n                \"id\": \"tick\"\n            }, {\n                \"text\": \"Underlying\".i18n(),\n                \"id\": \"underlying\"\n            }]\n        }\n    };\n\n    state.updateSublist = (list) => {\n        state.current.list = list;\n        state.current.sublist = state.sublist[list.sublist_id];\n        state.getContent(state.current.sublist[0].id);\n    };\n\n    state.getContent = (id) => {\n        state.current.content_page = id;\n        state.current.content = $(\"<div/>\").append($content.filter(\"#\" + id))[0].innerHTML;\n        $(\".content\").animate({ scrollTop: 0 }, 500);\n        $(document).find(\"a[href$='#contract-period']\").click(() => {\n            state.openSublist(\"contract period\");\n            return false;\n        })\n    };\n\n    state.search = (e) => {\n        const query = $(e.target).val().toLowerCase();\n        if (query.length > 0) {\n            state.current.list = null;\n            state.current.content_page = null;\n            state.current.sublist = sublist_items.filter((item) => {\n                return item.text.toLowerCase().indexOf(query) != -1;\n            });\n            const getContent = _.flow(searchSubsection, searchDescription);\n            state.current.content = getContent(query);\n            /*\n            state.current.content = */\n            if (state.current.content)\n                $(\".help-dialog .content .items\").find(\"a\").each(function(i, link) {\n                    link.onclick = (e) => {\n                        state.openSublist($(e.target).text());\n                    };\n                });\n        }\n    }\n\n    state.openSublist = (sublist_name) => {\n        state.current.list = null;\n        state.current.sublist = sublist_items.filter((item) => {\n            return item.text.toLowerCase().indexOf(sublist_name.toLowerCase()) != -1;\n        });\n        console.log(sublist_name, state.current.sublist);\n        state.current.sublist && state.current.sublist.length && state.getContent(state.current.sublist[0].id);\n    }\n\n    //Concat all the sublist items into one array so that we can later use it for searching.\n    for (let key in state.sublist) {\n        sublist_items = sublist_items.concat(state.sublist[key]);\n    }\n\n    // Create an array of all the text section wise, to be used later for searching.\n    var content_array = [];\n\n    var section = document.createTreeWalker($(\"<div/>\").append($content)[0], NodeFilter.SHOW_ELEMENT, (node) => {\n        if (node.tagName == \"DIV\")\n            return NodeFilter.FILTER_ACCEPT;\n        else\n            return NodeFilter.FILTER_SKIP;\n    }, false);\n    while (section.nextNode()) {\n        var obj = {};\n        obj.section = sublist_items.filter(function(item) {\n            return item.id == $(section.currentNode).attr(\"id\")\n        })[0];\n        const childNodes = $(section.currentNode).children();\n        obj.subSection = childNodes.map(function(i, ele) {\n            if (ele.nodeName === \"H3\" && childNodes[i + 1].nodeName === \"P\" && childNodes[i + 1].innerText)\n                return { title: ele.innerText, description: childNodes[i + 1].innerText }\n            else\n                return null;\n        }).get();\n        obj.text = $(section.currentNode)[0].innerText;\n        content_array.push(obj);\n\n    }\n\n    const searchSubsection = (query) => {\n        // Create copy for modifying the array and passing it to the next function.\n        const temp_content_array = JSON.parse(JSON.stringify(content_array));\n        const content = temp_content_array.reduce(function(content, elem) {\n            const subContent = elem.subSection.reduce(function(text, ele) {\n                if (ele.title && ele.title.toLowerCase().indexOf(query) != -1 && ele.description.replaceAll(\"\\n\", \"\")) {\n                    elem.text = elem.text.replace(ele.title, \"\").replace(ele.description, \"\");\n                    return text + \"<strong>\" + ele.title + \"</strong>\" + \"<p>\" + ele.description + \"</p>\"\n                }\n                return text;\n            }, '');\n            if (subContent) {\n                const html = \"<a href='#'><h3>\" + elem.section.text + \"</h3></a>\" + subContent;\n                content = content ? content + \"<hr>\" + html : html;\n            }\n            return content;\n        }, '');\n        return { query: query, content: content ? content : '', array: temp_content_array};\n    }\n\n    const searchDescription = (some) => {\n        const content = some.array.reduce(function(content, ele) {\n            const index = ele.text.toLowerCase().indexOf(some.query);\n            if (index != -1) {\n                const subtext = ele.text.substr(index, 100).replaceAll(\"\\n\", \"<br>\");\n                const html = \"<a href='#'><h3>\" + ele.section.text + \"</h3></a>\" +\n                    \"<p>...\" + subtext + \"...</p>\"\n                content = content ? content + \"<hr>\" + html : html;\n            }\n            return content;\n        }, '');\n        console.log(content);\n        return '<div class=\"search-text\">' + (some.content && content ? some.content + \"<hr>\" : some.content) + content +\n            \"</div>\";\n    }\n\n\n    //Show the about us page initially\n    state.current.list = state.list[0];\n    state.updateSublist(state.current.list);\n    state.current.content_page = state.sublist[state.current.list.sublist_id][0].id;\n    state.getContent(state.current.content_page);\n\n    $html.appendTo(win);\n    let win_view = rv.bind(win[0], state);\n    win.dialog('open');\n};\n\nexport const init_help = (elem) => {\n    elem.click(() => {\n        if (!win)\n            init();\n        else\n            win.moveToTop();\n    });\n};\n\nexport const showSpecificContent = (search_text) => {\n    if (!win)\n        init();\n    else\n        win.moveToTop();\n\n    $(\".help-search\").val(search_text).trigger(\"input\");\n}\n\nexport default {\n    init_help,\n    showSpecificContent\n}\n"]}