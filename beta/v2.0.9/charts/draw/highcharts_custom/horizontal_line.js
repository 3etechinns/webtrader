define(["indicator_base","highstock"],function(a){var b={};return{init:function(){!function(a,c,d){function e(a,b,e){var f=this.chart.series.length+1,g=!1;if(this.data[this.data.length-1]){c.isNumeric(this.data[this.data.length-1].change)&&(g=!0,e=d.toFixed(this.data[this.data.length-1].change,2));var h=b.name||e+(g?"%":"");this.yAxis.addPlotLine({id:"HorizontalLine"+a,color:b.stroke,dashStyle:b.dashStyle,width:b.strokeWidth,value:e,zIndex:f,label:{text:h,align:"center"}})}}a&&!a.Series.prototype.addHorizontalLine&&(a.Series.prototype.addHorizontalLine=function(a){var d=this.options.id;a=c.extend({stroke:"green",strokeWidth:2,dashStyle:"solid",parentSeriesID:d},a);var f="_"+(new Date).getTime();return b[f]=a,e.call(this,f,a,a.value),f},a.Series.prototype.removeHorizontalLine=function(a){b[a]=null,this.yAxis.removePlotLine("HorizontalLine"+a)})}(Highcharts,jQuery,a)},updateHorizontalLineSeries:function(a,b){updateHorizontalLineSeries.call(a,b,!0)}}});