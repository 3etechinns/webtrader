{"version":3,"sources":["../../../../src/websitestatus/websitestatus.es6"],"names":["reposition_dialogs","min","parent","each","top","css","replace","animate","website_status","data","site_status","toLowerCase","$ele","is","is_shown","slideUp","message","append","i18n","html","slideDown","events","on","cached","send","subscribe","then"],"mappings":";;;;;;;;;;;;;;;AAIA,QAAMA,qBAAqB,SAArBA,kBAAqB,CAACC,GAAD,EAAS;AACjC,8BAAE,mBAAF,EAAuBC,MAAvB,GAAgCC,IAAhC,CAAqC,YAAW;AAC7C,gBAAMC,MAAM,sBAAE,IAAF,EAAQC,GAAR,CAAY,KAAZ,EAAmBC,OAAnB,CAA2B,IAA3B,EAAiC,EAAjC,IAAuC,CAAnD;AACA,gBAAGF,OAAOH,GAAV,EAAgB;AACb,sCAAE,IAAF,EAAQM,OAAR,CAAgB,EAAEH,KAAKH,GAAP,EAAhB,EAA8B,GAA9B;AACF;AACH,SALD;AAMF,KAPD;AAQA,QAAMO,iBAAiB,SAAjBA,cAAiB,CAACC,IAAD,EAAU;AAC7B,YAAIA,KAAKD,cAAL,CAAoBE,WAApB,CAAgCC,WAAhC,OAAkD,IAAtD,EAA4D;AACxD,gBAAMC,OAAO,sBAAE,mBAAF,CAAb;AACAA,iBAAKC,EAAL,CAAQ,UAAR,KAAuB,CAAC,wBAAcC,QAAd,EAAxB,IAAoDF,KAAKG,OAAL,CAAa,GAAb,CAApD,IAAyEf,mBAAmB,GAAnB,CAAzE;AACH,SAHD,MAIK;AACD,gBAAMY,QAAO,sBAAE,mBAAF,CAAb;AACA,gBAAMI,UAAU,sBAAE,0BAAF,EAA8BC,MAA9B,CAAqCR,KAAKD,cAAL,CAAoBQ,OAApB,IAA+B,gEAAgEE,IAAhE,EAApE,CAAhB;AACAN,kBAAKO,IAAL,CAAUH,OAAV,KAAsBJ,MAAKQ,SAAL,CAAe,GAAf,CAAtB,IAA8CpB,mBAAmB,GAAnB,CAA9C;AACH;AACJ,KAVD;;AAYA,gCAAQqB,MAAR,CAAeC,EAAf,CAAkB,gBAAlB,EAAoCd,cAApC;AACA,gCAAQe,MAAR,CAAeC,IAAf,CAAoB,EAAEhB,gBAAgB,CAAlB,EAAqBiB,WAAW,CAAhC,EAApB,EAAyDC,IAAzD,CAA8DlB,cAA9D","file":"websitestatus.js","sourcesContent":["import $ from 'jquery';\nimport liveapi from '../websockets/binary_websockets';\nimport accountstatus from '../accountstatus/accountstatus';\n\nconst reposition_dialogs = (min) => {\n   $('.webtrader-dialog').parent().each(function() {\n      const top = $(this).css('top').replace('px', '') * 1;\n      if(top <= min)  {\n         $(this).animate({ top: min }, 300);\n      }\n   });\n}\nconst website_status = (data) => {\n    if (data.website_status.site_status.toLowerCase() === \"up\") {\n        const $ele = $(\"#msg-notification\");\n        $ele.is(\":visible\") && !accountstatus.is_shown() && $ele.slideUp(500) && reposition_dialogs(110);\n    }\n    else {\n        const $ele = $(\"#msg-notification\");\n        const message = $('<div class=\"error-msg\"/>').append(data.website_status.message || 'Seems like our servers are down, we are working on fixing it.'.i18n());\n        $ele.html(message) && $ele.slideDown(500) &&  reposition_dialogs(140);\n    }\n};\n\nliveapi.events.on('website_status', website_status);\nliveapi.cached.send({ website_status: 1, subscribe: 1 }).then(website_status);\n"]}