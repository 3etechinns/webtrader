define([],function(){var a=[],b=[],c=!1;return{process:function(d){c=!1;for(var e in d.trading_times.markets){var f=d.trading_times.markets[e],g={name:f.name,display_name:f.name,submarkets:[]};for(var h in f.submarkets){var i=f.submarkets[h],j={name:i.name,display_name:i.name,instruments:[]};for(var k in i.symbols){var l=i.symbols[k];j.instruments.push({symbol:l.symbol,display_name:l.name,delay_amount:0})}g.submarkets.push(j)}a.push(g)}for(var m in b)b[m](a);b=[]},fetchMarkets:function(a){a&&b.push(a),c||(require(["websockets/eventSourceHandler"],function(a){a.retrieveInstrumentList()}),c=!0)}}});